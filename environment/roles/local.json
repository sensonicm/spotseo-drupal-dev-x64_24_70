{
  "name": "local",
  "description": "installs sdd environment",
  "chef_type": "role",
  "json_class": "Chef::Role",
  "default_attributes": {
    "apache": {
      "mpm": "prefork"
    },
    "mariadb": {
      "use_default_repository": false,
      "server_root_password": "simplepass",
      "forbid_remote_root": true,
      "allow_root_pass_change": true,
      "client": {
        "development_files": false
      },
      "mysqld": {
        "max_allowed_packet": "256M",
        "thread_cache_size": "3",
        "tmp_table_size": "128M",
        "max_heap_table_size": "128M",
        "key_buffer_size": "128M",
        "table_open_cache": "800"
      },
      "innodb": {
        "innodb_buffer_pool_size": "512M",
        "innodb_buffer_pool_instances": "1"
      },
      "mysqldump": {
        "max_allowed_packet": "32M"
      }
    }
  },
  "override_attributes": {},
  "env_run_lists" : {
    "production" : [],
    "preprod" : [],
    "dev": []
  },
  "run_list": [
    "recipe[SDD::curl]",
    "recipe[apt]",
    "recipe[apache2]",
    "recipe[apache2::mod_expires]",
    "recipe[mariadb::server]",
    "recipe[mariadb::client]",
    "recipe[SDD::database]",
    "recipe[SDD::php]",
    "recipe[SDD::php_mods]",
    "recipe[SDD::uploadprogress]",
    "recipe[SDD::folders]",
    "recipe[SDD::vhosts]",
    "recipe[SDD::composer]"
  ]
}
